<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!--script source to run webpage-->
        <!--script src="Assets/script.js"></script-->
        <!--Bootstrap link-->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" 
         integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <title>JS Quiz Result</title>
</head>
<body>
    <header class = "text-center">
        <h3>Quiz Score Result</h3>
    </header>
    <div class = "row">
        <section class="col-md-2"></section>
        <section class = "col-md-8">
            <section id ="timer" value="60">60</section>
            <form id = "leaderForm">
                <input class="form-control" id = "scoreHolder" type="text" placeholder="Initials Here"/>
                <br>
                <button type="submit" class="btn btn-primary" id ="storeInfo">Submit</button>
            </form>
            <p class= "h5 text-center">Leaderboard</p>
            <ul id = "leaderboard"></ul>
        </section> 
        <section class="col-md-2"></section>
    </div>  
    <section>
        <!-- JS, Popper.js, and jQuery -->
            <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
            <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    </section>
</body>
<script>
    var storeBtn = document.getElementById("storeInfo");;
    var leaderForm = document.getElementById("leaderForm");
    var leaderInput = document.getElementById("scoreHolder");

    
    var score = document.getElementById("timer");
    let myListToDisplay = JSON.parse(localStorage.getItem(("winnerList")));

// function to grab local storage items which were apart of a previous list and list them by only targeting object "strings" with two characters and 2 digit or less numbers
var boardList = document.getElementById("leaderboard");
var winnerArray = [];
for (var i = 0; i < winnerArray.length; i++) {
    var temp = {
        initials: winnerArray[i].value,
        score: timer.value,
    }
    winnerArray.push(temp);
}
localStorage.setItem('winnerList', JSON.stringify(winnerArray));
// display the winner list (render)
for (var i = 0; i < myListToDisplay.length; i++) {
    console.log(myListToDisplay);
    var oldLi = document.createElement("li");
        oldLi.textContent = win;
        oldLi.setAttribute("class","target" );
        boardList.appendChild(oldLi);
}

function listStorageItem () {
    


        var  win = winnerArray[i]

    };
};
    listStorageItem ();

 function renderBoard() {
  // Clear todoList element and update todoCountSpan
  boardList.innerHTML = "";
  
  // Render a new li for each leaderboardItem
  for (var i = 0; i < winnerArray.length; i++) {
    var winner = winnerArray[i];

    var li = document.createElement("li");
    li.textContent = winner;
    li.setAttribute("class","target" )
    boardList.appendChild(li);
  }
}


// When form is submitted...
leaderForm.addEventListener("submit", function(event) {
  event.preventDefault();

  var leaderText = leaderInput.value.trim();
  //storage object keyword
  
   // Return from function early if submitted todoText is blank
  if (leaderText === "") {
    return;
  }

  // Add new leaderText to winnerList array, clear the input
  winnerArray.push(leaderText);
  var objectArray = document.getElementsByClassName("target");
  // Following for loop is designed to add each listed person that has done the quiz.
  for (i = 0; i < winnerArray.length; i++) {
    var point = score.textContent;
    var scoreBoardMember = [
    leaderText, point,
    ];
    winnerList = []
    winnerList.push(scoreBoardMember)
    window.localStorage.getItem(("winnerList"), JSON.stringify(scoreBoardMember));
  }


  leaderInput.value = "";
  
  renderBoard ();
});
</script>
</html>